% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/time_to_event_functions.R
\name{show_cif}
\alias{show_cif}
\title{Plot Cumulative Incidence Function for Competing Risks}
\usage{
show_cif(
  surv_obj,
  evt_type = 1,
  evt_label = c(`0` = "Event free", `1` = "Event", `2` = "Competing", `3` =
    "Second Competing"),
  add_ci = TRUE,
  add_atrisk = TRUE,
  add_legend = FALSE,
  add_pvalue = TRUE,
  atrisk_init_pos = NULL,
  pvalue_pos = c("bottomright", "topleft", "topright", "bottomleft", "left", "right",
    "top", "bottom"),
  plot_theme = ggplot2::theme_minimal(),
  x_lab = "Time",
  y_lab = "Proportion of subjects",
  x_lim = NULL,
  y_lim = NULL,
  x_break = NULL,
  y_break = NULL,
  color_scheme = c("brewer", "grey", "viridis", "manual"),
  color_list = NULL,
  top.margin = 18,
  right.margin = 18,
  bottom.margin = 96,
  left.margin = 96,
  space = 0.06
)
}
\arguments{
\item{surv_obj}{A \code{survfit} object, such as one returned by \code{estimate_cif()}.}

\item{evt_type}{Integer or vector of integers; the event type(s) of interest to be plotted (default = 1).}

\item{evt_label}{A function to relabel event types for plotting (default uses \code{c('0' = "Event free",'1' = "Event",'2'="Competing",'3' = "Second Competing"}).}

\item{add_ci}{Logical; if \code{TRUE}, adds confidence intervals to the CIF curves (default = TRUE).}

\item{add_atrisk}{Logical; if \code{TRUE}, adds an at-risk table below the plot (default = TRUE).}

\item{add_legend}{Logical; if \code{TRUE}, includes a legend in the plot (default = FALSE).}

\item{add_pvalue}{Logical; if \code{TRUE}, adds a p-value to the plot (default = TRUE).}

\item{atrisk_init_pos}{Character; position of the "At-risk N:" label.}

\item{pvalue_pos}{Character vector indicating where to place the p-value on the plot. Options include "bottomright", "topleft", "topright", "bottomleft", "left", "right", "top", "bottom" (default = all).}

\item{plot_theme}{A \code{ggplot2} theme object to customize the appearance of the plot (default = \code{ggplot2::theme_minimal()}).}

\item{x_lab}{Character; label for the x-axis (default = "Time").}

\item{y_lab}{Character; label for the y-axis (default = "Proportion of subjects").}

\item{x_lim}{Numeric vector of length 2 specifying x-axis limits.}

\item{y_lim}{Numeric vector of length 2 specifying y-axis limits.}

\item{x_break}{Numeric vector specifying x-axis tick positions.}

\item{y_break}{Numeric vector specifying y-axis tick positions.}

\item{color_scheme}{Character; color scheme to use. Options: "brewer", "grey", "viridis", "manual" (default = "brewer").}

\item{color_list}{A named list of colors to use when \code{color_scheme = "manual"} (e.g., \code{list(values = c("red", "blue"))}).}

\item{top.margin}{Numeric; top margin space for the at-risk table (default = 18).}

\item{right.margin}{Numeric; right margin space for the at-risk table (default = 18).}

\item{bottom.margin}{Numeric; bottom margin space for the at-risk table (default = 96).}

\item{left.margin}{Numeric; left margin space for the at-risk table (default = 96).}

\item{space}{Numeric; amount of space between group labels in the at-risk table (default = 0.06).}
}
\value{
A \code{ggplot} object representing the cumulative incidence function plot.
}
\description{
Displays the cumulative incidence function (CIF) for competing risks data, with optional stratification and customization. #See also \code{\link{construct_surv_cmprisk_var}},\code{\link{estimate_cif_km}}, \code{\link{summarize_km}}, \code{\link{summarize_cif}}, and \code{\link{show_surv}}   for related functions.
}
\details{
This function visualizes the cumulative incidence of events in the presence of competing risks using a \code{survfit} object.
It supports customization of axis labels, plot limits, confidence intervals, legends, p-values, and at-risk tables.
}
\examples{


windowsFonts(Arial = windowsFont("Arial"))

## Showing all events
cmp_risk_data <- construct_surv_cmprisk_var(cardio_data,
patid = PatientID,
idx_dt = SurgeryDate,
evt_dt = TransplantDate,
end_dt = LastVisitDate,
death_dt = DeathDate,
append = TRUE,
units = "months",
adm_cnr_time = 24)

CIF <- estimate_cif_km(cmp_risk_data, evt = evt,evt_time = evt_time)


    show_cif(CIF,evt_type = c(0,1,2),add_legend = TRUE,x_break = seq(0,24,by=3),
         evt_label = c('0' = "Event free", '1' = "Transplant", '2'= "Death"))


## Including a covariate

CIF_Sex <- estimate_cif_km(cmp_risk_data , evt = evt,evt_time = evt_time,group = Sex)

show_cif(CIF_Sex,evt_type = c(1),add_legend = FALSE,x_break = seq(0,24,by=3),
        evt_label = c('0' = "Event free", '1' = "Transplant", '2'= "Death"))

}
